<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Instructions</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>När programmet körs kommer en seed att sättas för att kunna beräkna tid enligt den nuvarande användares klocka. Programmet kommer därefter att skapa 1 struct (avsedd att hålla "mjuk" data) samt en vector (avsedd att hålla i "hård" data). Programmet skapar sedan (i nuläget kan behöva ändras i framtiden) 5 trådar som har olika uppgifter. Tråd 1 genererar en slumpmässig temperatur, tråd 2 genererar en slumpmässig luftfuktighet, tråd 3 generar en slumpmässig vindhastighet. När tråd 1,2 och 3 har data redo kommer kommer ett meddelande skickas ut att det finns data redo att hämtas. Tråd 4 som ständigt kollar efter detta kommer då att gå in och ta bort det äldsta värdet (bland de hårda värdena) innan det lägger in det nya värdet (det mjuka värdet i vectorn för de hårda värdena). Den sista tråden kommer därefter att varannan sekund att printa ut det senaste värdet som har lagts in i vectorn medans statistik (Max, min och medelvärde) printas varje 10:e sekund. I dessa trådar används en atomic&lt;bool&gt; för att säkerställa att alla uppgifter ska köras tills dess att förhållandet ändras. Efter detta kommer man till main-trådens "sleep_for(seconds(x))" där användaren själv kan ange hur länge programmet ska köras. Efter att den har kört klart sätts vår atomic till "false" för att meddela samtliga threads som använder detta att avsluta sin uppgift. Efter detta kommer programmet att vänta in samtliga threads innan programmet avslutas.</p>
<p>OBS! Allt sker samtidigt, men inte pararellt.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Software Requirements Specification (SRS)</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
1. Introduction</h2>
<h4><a class="anchor" id="autotoc_md3"></a>
1.1 Purpose</h4>
<p>Denna SRS beskriver kraven för ett system som simulerar en väderövervakningsstation. Systemet ska samla in, bearbeta och visa data från tre sensorer: temperatur, luftfuktighet och vindhastighet. Målet är att leverera ett realtidssystem som simulerar väderförhållanden i Sverige med periodiska uppdateringar och beräkning av statistik.</p>
<h4><a class="anchor" id="autotoc_md4"></a>
1.2 Scope</h4>
<p>Systemet kommer att:</p>
<ul>
<li>Simulera sensorer med slumpmässigt genererade värden.</li>
<li>Säkerställa trådsäker datainsamling och bearbetning med mutex.</li>
<li>Beräkna statistik från insamlad data.</li>
<li>Visa realtidsdata och statistik via konsolen med definierade tidsintervaller.</li>
</ul>
<p>Applikationen är avsedd för användning i utbildning och prototyputveckling av väderstationer.</p>
<h4><a class="anchor" id="autotoc_md5"></a>
1.3 Definitions, Acronyms, and Abbreviations</h4>
<ul>
<li>SRS: Software Requirements Specification.</li>
<li>Mutex: Mutual Exclusion, används för att säkerställa trådsäkerhet.</li>
<li>Realtidsdata: Data som genereras och visas löpande.</li>
</ul>
<h4><a class="anchor" id="autotoc_md6"></a>
1.4 References</h4>
<ul>
<li>C++ Standard Library Documentation.</li>
<li>C++ Reference Library Documentation</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
2. Overall Description</h2>
<h4><a class="anchor" id="autotoc_md8"></a>
2.1 System Overview</h4>
<p>Systemet består av flera trådar som:</p>
<ul>
<li>Simulerar tre sensorer som genererar väderdata.</li>
<li>Samlar in data i ett delat minnesområde.</li>
<li>Bearbetar data för att generera statistik.</li>
<li>Visar realtidsdata och statistik i konsolen.</li>
</ul>
<h4><a class="anchor" id="autotoc_md9"></a>
2.2 System Constraints</h4>
<ul>
<li>Applikationen ska köras på en dator med stöd för C++ och trådar (t.ex. POSIX eller std::thread).</li>
<li>Systemet måste hantera flera trådar och skydda delat minne från samtidig åtkomst.</li>
</ul>
<h4><a class="anchor" id="autotoc_md10"></a>
2.3 Assumptions and Dependencies</h4>
<ul>
<li>Sensordata antas vara slumpmässiga men realistiska inom definierade intervall.</li>
<li>Statistiken beräknas endast på data insamlad under de senaste fem sekunderna.</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
3. Functional Requirements</h2>
<h4><a class="anchor" id="autotoc_md12"></a>
3.1 Sensor Simulation</h4>
<ul>
<li>FR-1: Systemet ska simulera en temperaturgivare som genererar slumpmässiga värden mellan -10°C och 30°C var 500:e millisekund.</li>
<li>FR-2: Systemet ska simulera en luftfuktighetsgivare som genererar slumpmässiga värden mellan 0% och 100% var 500:e millisekund.</li>
<li>FR-3: Systemet ska simulera en vindhastighetsgivare som genererar slumpmässiga värden mellan 0 m/s och 30 m/s var 500:e millisekund.</li>
</ul>
<h4><a class="anchor" id="autotoc_md13"></a>
3.2 Data Collection</h4>
<ul>
<li>FR-4: Systemet ska använda ett delat minnesområde för att lagra de senaste värdena från varje sensor.</li>
<li>FR-5: Systemet ska använda mutex för att skydda delat minne från samtidig åtkomst av flera trådar.</li>
<li>FR-6: Systemet ska implementera flaggor för att signalera när ny data är tillgänglig.</li>
</ul>
<h4><a class="anchor" id="autotoc_md14"></a>
3.3 Data Processing</h4>
<ul>
<li>FR-7: Systemet ska beräkna statistik (medelvärde, minimum och maximum) för varje sensor var femte sekund.</li>
<li>FR-8: Statistiken ska baseras på data insamlad under de senaste fem sekunderna.</li>
</ul>
<h4><a class="anchor" id="autotoc_md15"></a>
3.4 Data Display</h4>
<ul>
<li>FR-9: Systemet ska visa de senaste sensordata i konsolen varannan sekund.</li>
<li>FR-10: Systemet ska visa statistik (medelvärde, minimum och maximum) för varje sensor i konsolen var tionde sekund.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
4. Non-functional Requirements</h2>
<h4><a class="anchor" id="autotoc_md17"></a>
4.1 Performance Requirements</h4>
<ul>
<li>Systemet ska hantera tre sensorer som genererar data kontinuerligt utan märkbar fördröjning.</li>
<li>Statistikberäkningen ska vara färdig inom 500 millisekunder.</li>
</ul>
<h4><a class="anchor" id="autotoc_md18"></a>
4.2 Usability Requirements</h4>
<ul>
<li>Konsolutskrifterna ska vara lättlästa och visa sensordata och statistik i separata sektioner.</li>
</ul>
<h4><a class="anchor" id="autotoc_md19"></a>
4.3 Reliability Requirements</h4>
<ul>
<li>Systemet ska hantera samtidig åtkomst av flera trådar utan datakorruption.</li>
<li>Systemet ska kunna köras kontinuerligt i minst 24 timmar utan avbrott.</li>
</ul>
<h4><a class="anchor" id="autotoc_md20"></a>
4.4 Portability Requirements</h4>
<ul>
<li>Applikationen ska kunna köras på alla moderna operativsystem med stöd för C++ och trådar.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
5. System Design (High-level)</h2>
<h4><a class="anchor" id="autotoc_md22"></a>
5.1 Architecture</h4>
<ul>
<li><b>Sensortrådar:</b> Varje sensor körs i en separat tråd som genererar data periodiskt.</li>
<li><b>Delat minne:</b> Ett gemensamt datalager skyddat med mutex lagrar de senaste värdena.</li>
<li><b>Bearbetningstråd:</b> En separat tråd ansvarar för att beräkna statistik.</li>
<li><b>Visningstråd:</b> En tråd hanterar periodisk konsolutskrift av data och statistik.</li>
</ul>
<h4><a class="anchor" id="autotoc_md23"></a>
5.2 Timing</h4>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Uppgift   </th><th class="markdownTableHeadNone">Tidsintervall    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Sensoruppdatering   </td><td class="markdownTableBodyNone">500 millisekunder    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Realtidsdata i konsolen   </td><td class="markdownTableBodyNone">2 sekunder    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Statistikberäkning   </td><td class="markdownTableBodyNone">5 sekunder    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Statistik i konsolen   </td><td class="markdownTableBodyNone">10 sekunder   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md24"></a>
6. Appendices</h2>
<h4><a class="anchor" id="autotoc_md25"></a>
6.1 Example Output</h4>
<p><b>Realtidsdata (varannan sekund):</b></p>
<p><b>Tid:</b> 12:00:02 <br  />
 <b>Temperatur:</b> 12.5°C <br  />
 <b>Luftfuktighet:</b> 45% <br  />
 <b>Vindhastighet:</b> 7.3 m/s <br  />
</p>
<p>Statistik (var tionde sekund):</p>
<p><b>Tid:</b> 12:00:10 <br  />
 <b>Temperatur</b> (Medel: 10.2°C, Min: -5.0°C, Max: 15.6°C) <br  />
 <b>Luftfuktighet</b> (Medel: 48%, Min: 30%, Max: 60%) <br  />
 <b>Vindhastighet</b> (Medel: 6.5 m/s, Min: 2.0 m/s, Max: 12.0 m/s) <br  />
</p>
<h2><a class="anchor" id="autotoc_md26"></a>
7. Approval</h2>
<p>Denna specifikation är godkänd av projektledaren och utvecklingsteamet som grund för implementationen.</p>
<h2><a class="anchor" id="autotoc_md27"></a>
Links</h2>
<p>Documentation index: <a href="https://Gr4hn.github.io/Project2/index.html">Index</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
